const { ethers } = require("hardhat");

const execute = async () => {
    const [exploiter] = await ethers.getSigners();
    console.log("Balance before exploit - ", ethers.utils.formatEther(await exploiter.getBalance().then(c => c.toString())));
    const exploitContractFactory = await ethers.getContractFactory("Exploit");
    const exploitContract = await exploitContractFactory.deploy();
    let tx = await exploitContract.execute();
    await tx.wait();
    console.log("Balance after exploit - ", ethers.utils.formatEther(await exploiter.getBalance().then(c => c.toString())));
}

execute()
    .then(() => process.exit(0))
    .catch(error => console.log(error));